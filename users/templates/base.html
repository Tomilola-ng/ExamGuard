{% load blog_tags %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'post/style.css' %}" />    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <title> ExamGuard {% block title %} {% endblock title %} </title>
                
    <style>
      .post-content {
        font-size: 95%;
      }
      span.helptext , #photo-clear_id {
          display: none;
      }
      label {
        font-size: 90%;
      }
      .like-svg {
        width: 30px; height: 30px;
      }
      .like-svg svg {
        transform: scale(0.8);
      }
      form ul li {
        font-size: 70%;
        width: 80%;
        color: rgb(5, 83, 5);
      }
      form ul.errorlist li {
        color: var(--red);
      }
      .comment_form textarea {
        height: 100px;
      }
      .profile-img {
        width: 100px; height: 100px;
      }
      .o-hide {
        overflow: hidden;
      }
      .fs-8 {
        font-size: 0.7rem !important;
      }
      .h-20vh {
        height:40vh;
      }
    </style>

</head>

<body>

  <main id="app">
    <header class="w-100">
        <section class="container dp-flex ai-c jc-sb pbt-2 plr-1 lg_mxw-900 m-auto">
        <a href='{% url 'home' %}'  class="lg_w-30 fs-5 f-col bold lg_ml-4 ml-3 anim--right-in"> ExamGuard </a>
        <div class="lg_w-20 pbt-2"></div>
        <nav 
        class="w-60 h-100 mxw-250 lg_w-50 dp-flex jc-sa ai-c">
            <a href="{% url 'post_list' %}" class="fs-7 f-col"> Posts </a>
            <a href="{% url 'question_list' %}" class="fs-7 f-col">Ask ?</a>
            <div class="fs-7 p-2 pbt-1 bg-col bdrs-pill">
              {% if user.is_authenticated %}
              <a href="{% url 'dashboard' %}" class="w-100 h-100">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-check" viewBox="0 0 16 16">
                  <path fill='#fff' d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
                  <path fill='#fff' fill-rule="evenodd" d="M15.854 5.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L12.5 7.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
                </svg>
              </a>
              {% else %}
              <a href="{% url 'register' %}" class="f-white"> 
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-x" viewBox="0 0 16 16">
                  <path fill='#fff' d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0zm4 8c0 1-1 1-1 1H1s-1 0-1-1 1-4 6-4 6 3 6 4zm-1-.004c-.001-.246-.154-.986-.832-1.664C9.516 10.68 8.289 10 6 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10z"/>
                  <path fill='#fff' fill-rule="evenodd" d="M12.146 5.146a.5.5 0 0 1 .708 0L14 6.293l1.146-1.147a.5.5 0 0 1 .708.708L14.707 7l1.147 1.146a.5.5 0 0 1-.708.708L14 7.707l-1.146 1.147a.5.5 0 0 1-.708-.708L13.293 7l-1.147-1.146a.5.5 0 0 1 0-.708z"/>
                </svg>
              </a>
              {% endif %}
            </div>
        </nav>
        </section>
    </header>

    <article id="html--container" class="container p-2 plr-3 mxw-900 m-auto dp-flex flex-wrap pos-relative">
      {% block content %} {% endblock %}
      
      <aside id="side bar" 
      class="container mxw-400 m-auto mt-3 p-2 pbt-3">
      <span class="bold f-col">
        Search for topics with tags 
      </span>
      <div class="w-100 pr-2 pl-0 mt-1">
      {% get_tags as tee_tag %}
         {% for t in tee_tag %}
          <a href="{% url 'post_list_by_tag' t.slug %}" class="fs-7 mr-1 mb-3 bg-black f-white bdrs-pill plr-1">
             #{{ t }} 
            </a> 
       {% endfor %} 
        
      </div>
      <br>
      <p>
         Hi üñê, Studious student we are Exam Guardians and We will like you to know we've written <b> {% total_posts %} </b> Posts to prepare you for your nearest exams  
        Check them out noww, for your own good
      </p>

      <span class="bold f-col"> Latest Posts !! </span>
       {% show_latest_posts 4 %} 

      <span class="bold f-col"> Most answered Question !! </span>
       {% get_most_commented_posts as most_commented_posts %}
        <div class="col container bdrs mbt-2">
        {% for post in most_commented_posts %}
          <a href="{{ post.get_absolute_url }}" class="fs-7 as-fs mb-2"> _{{ post.question| safe |truncatewords:15 }} <span class="bg-col bdrs-pill f-white plr-2 ml-2"> Read_Now </span></a>
      {% endfor %} 
      </aside>
    </article>

</main>

</body>
</html>
